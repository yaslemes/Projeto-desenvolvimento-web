<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lista de Tarefas</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>Lista de Tarefas</h1>
        <div class="adicionar">
            <input type="text" id="taskInput" placeholder="Adicionar tarefa">
            <button class="mais" onclick="addTask()">
                <img src="imagens/mais.png" alt="Adicionar">
            </button>
        </div>
        <div class="theme-toggle" id="toggle-theme">
            <i class="fas fa-moon"></i>
        </div>
        <div>
            <ul id="taskList"></ul>
        </div>
    </div>

    <div class="modal-container" id="nossoModal">
        <div class="modal-content">
            <span class="fechar-modal" id="fecharModal">
                <img src="imagens/x.png" alt="Fechar">
            </span>
            <h2>Desenvolvimento web 1</h2>
            <p>Para entrar em contato, clique no link abaixo:</p>
            <a href="https://wa.me/5541996386250" target="_blank">
                <button class="mais">
                    <img src="imagens/whatsapp.png" alt="WhatsApp">
                    <span style="margin-left: 5px;">Enviar mensagem no WhatsApp</span>
                </button>
            </a>
        </div>
    </div>

    <script>
        // mudança de tema
        const botaoTema = document.getElementById("toggle-theme");

        botaoTema.addEventListener("click", () => {
            document.body.classList.toggle("dark-mode");
            const temaEscuro = document.body.classList.contains("dark-mode");
            localStorage.setItem("tema", temaEscuro ? "escuro" : "claro");

            const icone = document.querySelector("#toggle-theme i");
            icone.className = temaEscuro ? "fas fa-sun" : "fas fa-moon";
        });

        window.addEventListener("load", () => {
            const modal = document.getElementById("nossoModal");
            modal.style.display = "none";

            const temaSalvo = localStorage.getItem("tema");
            if (temaSalvo === "escuro") {
                document.body.classList.add("dark-mode");
                document.querySelector("#toggle-theme i").className = "fas fa-sun";
            }
        });
        // função de adicionar e deletar as tarefas (lixeira) 
        function addTask() {
            const taskInput = document.getElementById('taskInput');
            const taskText = taskInput.value.trim();

                if (taskText !== '') {
                    const li = document.createElement('li');
        
                    const textNode = document.createTextNode(taskText);
                    li.appendChild(textNode);

                    const lixeira = document.createElement('img');
                    lixeira.src = 'imagens/lixeira.png';
                    lixeira.alt = 'lixeira';

                    // adiciona o editar
                    const editar = document.createElement('img');
                    editar.src = 'imagens/lapis.png';
                    editar.alt = 'lapis';
        
                lixeira.addEventListener('click', () => {
                    li.remove();
        });

            li.appendChild(lixeira);
            li.appendChild(editar)
            const iconesContainer = document.createElement('div');
            iconesContainer.appendChild(editar);
            iconesContainer.appendChild(lixeira);
            li.appendChild(iconesContainer);


        const taskList = document.getElementById('taskList');
        taskList.appendChild(li);
        taskInput.value = '';
            }
        }
        // criação e utilização do modal
        const modal = document.getElementById("nossoModal");
        const fecharModal = document.getElementById("fecharModal");

        document.addEventListener("keydown", (event) => {
            if (event.ctrlKey && event.key === "h") {
                event.preventDefault();
                modal.style.display = "flex";
            }
        });

        fecharModal.addEventListener("click", () => {
            modal.style.display = "none";
        });
    </script>
</body>
</html>
